function sdk_chocolate(e,a,t,r,i,n,d){function s(e){switch(e.type){case"VPAID":d({type:"VPAID",partnerName:L});break;case"AdImpression":d({type:"Impression",partnerName:L});break;case"AdSizeChange":d({type:"AdSizeChange",partnerName:L});break;case"VAdStopped":O(),d({type:"AdEnded",partnerName:L});break;case"AdClicked":d({type:"AdClicked",partnerName:L});break;case"AdPaused":d({type:"pause",partnerName:L});break;case"AdResumed":d({type:"resume",partnerName:L});break;case"AdError":O(),D=!0,d({type:"AdError",partnerName:L});break;case"AdSkipped":O(),A(),d({type:"skip",partnerName:L});break;case"AdVolumeChange":d({type:"AdVolumeChange",partnerName:L});break;case"Admute":d({type:"mute",partnerName:L});break;case"Adunmute":d({type:"unmute",partnerName:L});break;case"AdVideoStart":b("AdVideoStart");break;case"AdVideoFirstQuartile":b("AdVideoFirstQuartile");break;case"AdVideoMidpoint":b("AdVideoMidpoint");break;case"AdVideoThirdQuartile":b("AdVideoThirdQuartile");break;case"AdVideoCompleted":b("AdVideoCompleted")}}function o(a){void 0!=typeof vdopia_wrapper&&delete vdopia_wrapper,vdopia_wrapper=new vdopia_wrapperParser,vdopia_wrapper.setup(a,S,e,A,P,s),V=function(e){vdopia_wrapper.getVastObj().IsVPAID?(M.style.display="block",m()):(M.style.display="block",h())},p(),D||d({type:"AdLoaded",partnerName:L,startAd:k})}function p(){return vdopia_wrapper.getVastObj().IsVPAID||(j=function(e){var a=(new Image,Math.floor(U.currentTime)),t=U.duration,r=a/t*100;r=Math.round(r),F&&(r>0&&20>r&&c(),r>25&&50>r&&l(),r>50&&75>r&&v(),r>75&&90>=r&&u(),r>=98&&(g(),U.removeEventListener("timeupdate",j)))},U.addEventListener("timeupdate",j)),U.addEventListener("startAd",V),{video_player_play:V}}function c(){if(void 0==N.tracking_start_tracked){if(vdopia_wrapper.getVastObj().TrackingEvents.start.length>0){for(var e=0;e<vdopia_wrapper.getVastObj().TrackingEvents.start.length;e++){var a=new Image;a.src=vdopia_wrapper.getVastObj().TrackingEvents.start[e]}d({type:"start",partnerName:L})}N.tracking_start_tracked=!0}}function l(){if(void 0==N.tracking_first_quartile_tracked){if(vdopia_wrapper.getVastObj().TrackingEvents.firstQuartile.length>0){for(var e=0;e<vdopia_wrapper.getVastObj().TrackingEvents.firstQuartile.length;e++){var a=new Image;a.src=vdopia_wrapper.getVastObj().TrackingEvents.firstQuartile[e]}d({type:"firstQuartile",partnerName:L})}N.tracking_first_quartile_tracked=!0}}function v(){if(void 0==N.tracking_midpoint_tracked){if(vdopia_wrapper.getVastObj().TrackingEvents.midpoint.length>0){for(var e=0;e<vdopia_wrapper.getVastObj().TrackingEvents.midpoint.length;e++){var a=new Image;a.src=vdopia_wrapper.getVastObj().TrackingEvents.midpoint[e]}d({type:"midpoint",partnerName:L})}N.tracking_midpoint_tracked=!0}}function u(){if(void 0==N.tracking_third_quartile_tracked){if(vdopia_wrapper.getVastObj().TrackingEvents.thirdQuartile.length>0){for(var e=0;e<vdopia_wrapper.getVastObj().TrackingEvents.thirdQuartile.length;e++){var a=new Image;a.src=vdopia_wrapper.getVastObj().TrackingEvents.thirdQuartile[e]}d({type:"thirdQuartile",partnerName:L})}N.tracking_third_quartile_tracked=!0}}function g(){if(F=!1,void 0==N.tracking_complete_tracked){if(vdopia_wrapper.getVastObj().TrackingEvents.complete.length>0)for(var e=0;e<vdopia_wrapper.getVastObj().TrackingEvents.complete.length;e++){var a=new Image;a.src=vdopia_wrapper.getVastObj().TrackingEvents.complete[e]}d({type:"complete",partnerName:L}),N.tracking_complete_tracked=!0}}function b(e){if(F)switch(e){case"AdVideoStart":c();break;case"AdVideoFirstQuartile":l();break;case"AdVideoMidpoint":v();break;case"AdVideoThirdQuartile":u();break;case"AdVideoCompleted":g()}}function m(){var e={};U.style.display="block";var a=document.createElement("div");a.className="adSlot",a.style.position="absolute",M.appendChild(a);var t={slot:a,videoSlot:U};e.vastObj=vdopia_wrapper.getVastObj(),e.divVars=t;var r=new vdopia_vpaid;r.setup(e,s,E,H)}function h(){U.src=vdopia_wrapper.getVastObj().Media.url,U.load(),U.style.display="block",w=function(e){if(U.play(),vdopia_wrapper.getVastObj().Impression.length>0){d({type:"Impression",partnerName:L});for(var a=0;a<vdopia_wrapper.getVastObj().Impression.length;a++)T(vdopia_wrapper.getVastObj().Impression[a])}U.removeEventListener("loadedmetadata",w)},_=function(e){O(),d({type:"AdEnded",partnerName:L}),E(),U.removeEventListener("ended",_)},I=function(e){if(U.currentTime<U.duration&&(d({type:"pause",partnerName:L}),0==N.tracking_pause_tracked)){if(null!=N.tracking_pause)for(var a=N.tracking_pause.split(" "),t=0;t<a.length;t++){var r=new Image;r.src=a[t]}N.tracking_pause_tracked=!0}},C=function(e){if(U.paused&&(d({type:"resume",partnerName:L}),0==N.tracking_resume_tracked)){if(null!=N.tracking_resume)for(var a=N.tracking_resume.split(" "),t=0;t<a.length;t++){var r=new Image;r.src=a[t]}N.tracking_resume_tracked=!0}},M.addEventListener("click",f,!1),U.addEventListener("loadedmetadata",w),U.removeEventListener("startAd",V),U.addEventListener("pause",I),U.addEventListener("play",C),U.addEventListener("ended",_)}function f(){if(U.paused){if(d({type:"resume",partnerName:L}),0==N.tracking_resume_tracked){if(null!=N.tracking_resume)for(var e=N.tracking_resume.split(" "),a=0;a<e.length;a++){var t=new Image;t.src=e[a]}N.tracking_resume_tracked=!0}if(U.play(),vdopia_wrapper.getVastObj().TrackingEvents.resume.length>0)for(var r=0;r<vdopia_wrapper.getVastObj().TrackingEvents.resume.length;r++){var t=new Image;t.src=vdopia_wrapper.getVastObj().TrackingEvents.resume[r]}}else{if(d({type:"AdClicked",partnerName:L}),vdopia_wrapper.getVastObj().ClickThrough.length>0&&window.open(vdopia_wrapper.getVastObj().ClickThrough[0]),vdopia_wrapper.getVastObj().ClickTracking.length>0)for(var i=0;i<vdopia_wrapper.getVastObj().ClickTracking.length;i++){var t=new Image;t.src=vdopia_wrapper.getVastObj().ClickTracking[i]}if(U.pause(),vdopia_wrapper.getVastObj().TrackingEvents.pause.length>0)for(var n=0;n<vdopia_wrapper.getVastObj().TrackingEvents.pause.length;n++){var t=new Image;t.src=vdopia_wrapper.getVastObj().TrackingEvents.pause[n]}}}function k(){var e=new CustomEvent("startAd");U.dispatchEvent(e)}function A(){e.isAdAvailable=!1,y(M,"2222")}function y(e,a){E()}function E(){M.removeEventListener("click",f)}function T(e){var a=new Image(1,1);a.src=e}function O(){F=!1,U.pause(),U.removeAttribute("src"),U.removeEventListener("timeupdate",j),U.removeEventListener("startAd",V),U.removeEventListener("loadedmetadata",w),U.removeEventListener("startAd",V),U.removeEventListener("pause",I),U.removeEventListener("play",C),U.removeEventListener("ended",_)}var V,C,_,j,w,I,S=null,H=!0,L=e,N={},P=5,M=t,U=r,D=!1;r.width=i,r.height=n;var B=new Date;B=B.getTime();var F=!0;o(a)}if("undefined"==typeof vdopia_wrapperParser){var vdopia_wrapperParser;vdopia_wrapperParser=function(e){var a,t,r=this;this.setup=function(e,a,t,i,n,d){r=this,r.isWrapper=!1,r.wrapperCount=0,r._adSystem,r._errURL,r.VASTAdTagURI,r._impressionURLs=[],r._clickThrough=[],r._clickTracking=[],r.trackingEvents=[],r._creatives=[],r.trackingEventsArr=[],r.duration=0,r.media=new Object,r.requestTime,r.partner=t,r.stopAd=i,r.creativeObj=new Object,r._extensions=new Object,r.vastObjContainer=new Object,r.parseExtOnlyOnce=!0,r.vast=e,r.maxWrapper=n,r.skipoffset,r.vastVersion,r.isVpaid=!1,r.onAdEvent=d,r.adParameters=[],r.parseVast(r.vast)},this.parseVast=function(e){var a,i;r.requestTime=new Date,a=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");try{a.open("GET",e,!1),a.onreadystatechange=function(){return r.partner.responseTimestamp=new Date-r.requestTime,4!=a.readyState||200!=a.status?(r.stopAd(),!1):void 0},a.send(),i=a.responseXML}catch(n){return r.partner.responseTimestamp=new Date-r.requestTime,r.stopAd(),!1}switch(t=i.getElementsByTagName("VAST")[0],t=t.attributes.version.nodeValue){case"1.0":var d={errorType:"vast version 1.0 has been deprecated"};r.onAdEvent({type:"AdError",params:d});break;case"2.0":case"3.0":r.getVastData(i);break;default:var d={errorType:"vast version "+t+" not supported"};r.onAdEvent({type:"AdError",params:d})}},this.getVastData=function(e){var a,t=e.getElementsByTagName("Wrapper");if(r.wrapperCount<=r.maxWrapper){if("undefined"==typeof t||0==t.length?(r.isWrapper=!1,a=e.getElementsByTagName("InLine")[0],r.parseWrapperTag(a),r.createFinalVastObj()):(r.isWrapper=!0,r.wrapperCount++,a=e.getElementsByTagName("Wrapper")[0],r.parseWrapperTag(a),r.parseVast(r.VASTAdTagURI)),r.isVpaid){var i={message:"VPAID"};r.onAdEvent({type:"VPAID",params:i})}}else{var i={errorType:"maxWrapperLimit",WrapperCount:r.wrapperCount};r.onAdEvent({type:"AdError",params:i})}},this.createFinalVastObj=function(){r.vastObjContainer.Impression=r._impressionURLs,r.vastObjContainer.ClickThrough=r._clickThrough,r.vastObjContainer.ClickTracking=r._clickTracking,r.vastObjContainer.Media=r.media,r.vastObjContainer.Duration=r.duration,r.vastObjContainer.SkipOffset=r.skipoffset,r.vastObjContainer.IsVPAID=r.isVpaid,r.vastObjContainer.AdParameters=r.adParameters,r.manageTrackingEvents(r.trackingEvents)},this.manageTrackingEvents=function(e){r.trackingEventsArr.start=r.getById("start",e),r.trackingEventsArr.firstQuartile=r.getById("firstQuartile",e),r.trackingEventsArr.midpoint=r.getById("midpoint",e),r.trackingEventsArr.thirdQuartile=r.getById("thirdQuartile",e),r.trackingEventsArr.complete=r.getById("complete",e),r.trackingEventsArr.close=r.getById("close",e),r.trackingEventsArr.skip=r.getById("skip",e),r.trackingEventsArr.mute=r.getById("mute",e),r.trackingEventsArr.unmute=r.getById("unmute",e),r.trackingEventsArr.pause=r.getById("pause",e),r.trackingEventsArr.resume=r.getById("resume",e),r.trackingEventsArr.rewind=r.getById("rewind",e),r.trackingEventsArr.fullscreen=r.getById("fullscreen",e),r.vastObjContainer.TrackingEvents=r.trackingEventsArr},this.getById=function(e,a){var t=[];return a.filter(function(a){for(var r=0;r<a.length;r++)a[r].event==e&&t.push(a[r].value)}),t},this.parseWrapperTag=function(e){if(void 0==e||0==e.getElementsByTagName("Creatives").length){var a={errorType:"creativesNotFound"};return void r.onAdEvent({type:"AdError",params:a})}for(var t=e.childNodes,i=0;i<t.length;i++){var n=t[i];switch(r.log("Node Name:"+n.nodeName),n.nodeName){case"AdSystem":r._adSystem=r.replaceStr(n.textContent.toString()),r.log("_adSystem :"+r._adSystem);break;case"VASTAdTagURI":r.VASTAdTagURI=r.parsecdata(n);break;case"Error":r._errURL=r.replaceStr(n.textContent.toString()),r.log("that._errURL :"+r._errURL);break;case"Impression":null==r._impressionURLs&&(r._impressionURLs=[]),r._impressionURLs.push(r.parseImpressions(n));break;case"Creatives":r.parseCreatives(n);break;case"Extensions":}}},this.parseImpressions=function(e){var a=r.parsecdata(e);return a},this.parseCreatives=function(e){if(r._creatives=[],0==e.getElementsByTagName("Creative").length){var a={errorType:"creativeNotFound"};return void r.onAdEvent({type:"AdError",params:a})}for(var t=e.childNodes,i=0;i<t.length;i++){var n=t[i];if(r.log("child.nodeType--"+n.nodeType),1==n.nodeType)switch(r.log("child.nodeName--"+n.nodeName),n.nodeName){case"Creative":r.parseSignleCreative(n,r._creatives)}}},this.parseSignleCreative=function(e,a){var t=new Object;r.log(e);var i="No ID Attrb";e.id?i=e.id.toString():e.AdID&&(i=e.AdID.toString());var n=i.split("~");t.id=n.length>1?n[1]:i,r.log("ID :"+t.id);var d=e.childNodes;r.log(d.length);for(var s=0;s<d.length;s++){var o=d[s];if(r.log("nodeType :"+o.nodeType),1==o.nodeType)switch(r.log("nodeName :"+o.nodeName),o.nodeName){case"Linear":t.creativeType="Linear",r.parsingLinearNode(o,t);break;case"NonLinearAds":break;case"CompanionAds":}}a.push(t)},this.parsingLinearNode=function(e,a){if(0==r.isWrapper&&0==e.getElementsByTagName("MediaFiles").length){var t={errorType:"MediaFilesNotFound"};return void r.onAdEvent({type:"AdError",params:t})}e.attributes.skipoffset?(r.skipoffset=r.parsingOffset(e.attributes.skipoffset.nodeValue.toString()),r.skipoffset||(r.skipoffset=null)):r.skipoffset=null;for(var i=e.childNodes,n=0;n<i.length;n++){var d=i[n];if(1==d.nodeType)switch(d.nodeName){case"Duration":r.duration=r.parsingOffset(d.textContent.toString());break;case"TrackingEvents":null==r.trackingEvents&&(r.trackingEvents=[]),r.trackingEvents.push(r.parseTrackingEvents(d)),r.log("TrackingEvents : -"),r.log(r.trackingEvents);break;case"VideoClicks":var s=d.childNodes;r.log(s),r.log(".size() :"+s.length);for(var o=0;o<s.length;o++){var d=s[o];1==d.nodeType&&("ClickThrough"==d.nodeName&&(null==r._clickThrough&&(r._clickThrough=[]),void 0!=r.getClickTracking(d)&&r._clickThrough.push(r.getClickTracking(d))),"ClickTracking"==d.nodeName&&(null==r._clickTracking&&(r._clickTracking=[]),void 0!=r.getClickTracking(d)&&r._clickTracking.push(r.getClickTracking(d))))}break;case"MediaFiles":r.parseMediaNode(d,a);break;case"AdParameters":r.adParameters=r.parsecdata(d)}}},this.parseMediaNode=function(e,a){if(0==r.isWrapper&&0==e.getElementsByTagName("MediaFile").length){var t={errorType:"MediaFileNotFound"};return void r.onAdEvent({type:"AdError",params:t})}var i=r.parsingMediaFiles(e.getElementsByTagName("MediaFile"));r.media=r.getPlayableMedia(i)},this.parsingMediaFiles=function(e){for(var a=new Array,t=new Array,i=new Array,n=e,d=0;d<n.length;d++){var s=new Object;s.attrib=r.parsingAttributes(n[d]),s.url=r.parsecdata(n[d]),a.push(s)}for(var o=0,p=0;o<=a.length-1;o++)r.log(a[o].attrib.apiFramework),("video/mp4"==a[o].attrib.type||"application/javascript"==a[o].attrib.type&&"VPAID"==a[o].attrib.apiFramework)&&(t[p]=a[o],p++,"application/javascript"==a[o].attrib.type&&"VPAID"==a[o].attrib.apiFramework&&(r.isVpaid=!0));for(var c=0,l=0;c<=t.length-1;c++)(t[c].url.indexOf("http://")>=0||t[c].url.indexOf("https://")>=0||t[c].url.indexOf("rtmp://")>=0)&&(i[l]=t[c],l++);return i.sort(function(e,a){if(e.attrib.bitrate===a.attrib.bitrate){var t=e.attrib.type.toLowerCase(),r=a.attrib.type.toLowerCase();return r>t?-1:t>r?1:0}return e.attrib.bitrate-a.attrib.bitrate}),i},this.getPlayableMedia=function(e){for(var a=new Object,t=new Array,i=0;i<e.length;i++){var n=String(e[i].attrib.type);if(t.push(n),"video/mp4"==n||"application/javascript"==n){a=e[e.length-1];r.onAdEvent({});break}}return a},this.parsingAttributes=function(e){var a=new Object,t=e.attributes;r.log(t);for(var i=0;i<t.length;i++){var n=t[i].name;a[n]=t[i].value}return a},this.parsingOffset=function(e){var t;return e.indexOf(":")>=0?(t=e.split(":"),3600*Number(t[0])+60*Number(t[1])+Number(t[2])):e.indexOf("%")>=0?(t=e.split("%"),Math.ceil(a*t[0]/100)):void 0},this.getClickTracking=function(e){var a=r.parsecdata(e);return a},this.parsecdata=function(e){var a,t=e.childNodes[0];return void 0!=t&&(a=e.textContent,"#text"==t.nodeName&&"3"==t.nodeType),a},this.parseTrackingEvents=function(e){for(var a,t=[],i=e.childNodes,n=0;n<i.length;n++){var a=i[n];if(1==a.nodeType)switch(a.nodeName){case"Tracking":var d=a.getAttribute("event"),s=r.parsecdata(a);t.push({event:d,value:s})}}return t},this.parsingCompanionAds=function(e,a){},this.parsingNonLinearNode=function(e,a){for(var t=e.children,i=0;i<t.length;i++){var n=t[i];if(1==n.nodeType)switch(n.nodeName){case"TrackingEvents":a.TrackingEvents=r.parseTrackingEvents(n)}}},this.replaceStr=function(e){return e.trim(),e},this.impressions=function(){return r._impressionURLs},this.linearTrackingEvents=function(){return r._creatives},this.vastadTagURI=function(){return r.VASTAdTagURI},this.adSystem=function(){return r._adSystem},this.error=function(){return r._errURL},this.getVastObj=function(){return r.vastObjContainer},this.log=function(e){}}}if("undefined"==typeof vdopia_vpaid){var vdopia_vpaid;vdopia_vpaid=function(e){var a=this;this.setup=function(e,t,r,i){a.isDeviceMobile=i,a.removeClickthrough=r,a.vastObj=e.vastObj,a.divVars=e.divVars,a._width=e.divVars.videoSlot.width,a._height=e.divVars.videoSlot.height,a.checkInterval=50,a.adMediaURL=[],a.adImpArray=[],a.adParameters={},a.adClickThrough=[],a.adClickTracking=[],a.isvpaidLinear=a.vastObj.IsVPAID,a.onAdEvent=t,a.adError=!1,a.stopCalled=!1,a.impFired=!1,a.isvpaidLinear,a.linearDataParsing(a.adScriptLoader)},this.linearDataParsing=function(e){a.adMediaURL=a.vastObj.Media.url,a.adParameters.AdParameters=a.vastObj.AdParameters,a.getImpr(a.vastObj.Impression,a.adImpArray),a.getImpr(a.vastObj.ClickThrough,a.adClickThrough),a.getImpr(a.vastObj.ClickTracking,a.adClickTracking),a.getTrkEvnt(a.vastObj.TrackingEvents),e(a.adMediaURL,a.adScriptLoaded)},this.getTrkEvnt=function(e){a.adTrackingEvents=e;for(var t=0;t<e.length;t++);},this.getImpr=function(e,a){if("string"==typeof e)a.push(e);else for(var t=0;t<e.length;t++)a.push(e[t])},this.adScriptLoader=function(e,a){var t=document.createElement("script"),r=document.getElementsByTagName("script")[0];t.async=1,r.parentNode.insertBefore(t,r),t.onload=t.onreadystatechange=function(e,r){(r||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t=void 0,r||a&&a(this))},t.src=e},this.adScriptLoaded=function(e){a.startVpaidAd()},this.startVpaidAd=function(){a.vpaidObj=getVPAIDAd(),a.vpaidObj.subscribe(a.adLoadedHandler,"AdLoaded"),a.vpaidObj.subscribe(a.adStartedHandler,"AdStarted"),a.vpaidObj.subscribe(a.adStoppedHandler,"AdStopped"),a.vpaidObj.subscribe(a.adSkippedHandler,"AdSkipped"),a.vpaidObj.subscribe(a.adSkippableStateChangeHandler,"AdSkippableStateChange"),a.vpaidObj.subscribe(a.adSizeChangeHandler,"AdSizeChange"),a.vpaidObj.subscribe(a.adLinearChangeHandler,"AdLinearChange"),a.vpaidObj.subscribe(a.adDurationChangeHandler,"AdDurationChange"),a.vpaidObj.subscribe(a.adExpandedChangeHandler,"AdExpandedChange"),a.vpaidObj.subscribe(a.adRemainingTimeChangeHandler,"AdRemainingTimeChange"),a.vpaidObj.subscribe(a.adVolumeChangeHandler,"AdVolumeChange"),a.vpaidObj.subscribe(a.adInteractionHandler,"AdInteraction"),a.vpaidObj.subscribe(a.adUserAcceptInvitationHandler,"AdUserAcceptInvitation"),a.vpaidObj.subscribe(a.adUserMinimizeHandler,"AdUserMinimize"),a.vpaidObj.subscribe(a.adUserCloseHandler,"AdUserClose"),a.vpaidObj.subscribe(a.adImpressionHandler,"AdImpression"),a.vpaidObj.subscribe(a.adVideoStartHandler,"AdVideoStart"),a.vpaidObj.subscribe(a.adVideoFirstQuartileHandler,"AdVideoFirstQuartile"),a.vpaidObj.subscribe(a.adVideoMidpointHandler,"AdVideoMidpoint"),a.vpaidObj.subscribe(a.adVideoThirdQuartileHandler,"AdVideoThirdQuartile"),a.vpaidObj.subscribe(a.adVideoCompleteHandler,"AdVideoComplete"),a.vpaidObj.subscribe(a.adClickThruHandler,"AdClickThru"),a.vpaidObj.subscribe(a.adPausedHandler,"AdPaused"),a.vpaidObj.subscribe(a.adPlayingHandler,"AdPlaying"),a.vpaidObj.subscribe(a.adErrorHandler,"AdError"),a.vpaidObj.subscribe(a.adUnavailableHandler,"AdUnavailable"),a.vpaidObj.handshakeVersion("2.0"),a.vpaidObj.initAd(a._width,a._height,"normal",0,a.adParameters,a.divVars),a.resizeAD(a._width,a._height)},this.removeEvents=function(){a.vpaidObj.unsubscribe(a.adLoadedHandler,"AdLoaded"),a.vpaidObj.unsubscribe(a.adStartedHandler,"AdStarted"),a.vpaidObj.unsubscribe(a.adStoppedHandler,"AdStopped"),a.vpaidObj.unsubscribe(a.adSkippedHandler,"AdSkipped"),a.vpaidObj.unsubscribe(a.adSkippableStateChangeHandler,"AdSkippableStateChange"),a.vpaidObj.unsubscribe(a.adSizeChangeHandler,"AdSizeChange"),a.vpaidObj.unsubscribe(a.adLinearChangeHandler,"AdLinearChange"),a.vpaidObj.unsubscribe(a.adDurationChangeHandler,"AdDurationChange"),a.vpaidObj.unsubscribe(a.adExpandedChangeHandler,"AdExpandedChange"),a.vpaidObj.unsubscribe(a.adRemainingTimeChangeHandler,"AdRemainingTimeChange"),a.vpaidObj.unsubscribe(a.adVolumeChangeHandler,"AdVolumeChange"),a.vpaidObj.unsubscribe(a.adInteractionHandler,"AdInteraction"),a.vpaidObj.unsubscribe(a.adUserAcceptInvitationHandler,"AdUserAcceptInvitation"),a.vpaidObj.unsubscribe(a.adUserMinimizeHandler,"AdUserMinimize"),a.vpaidObj.unsubscribe(a.adUserCloseHandler,"AdUserClose"),a.vpaidObj.unsubscribe(a.adImpressionHandler,"AdImpression"),a.vpaidObj.unsubscribe(a.adVideoStartHandler,"AdVideoStart"),a.vpaidObj.unsubscribe(a.adVideoFirstQuartileHandler,"AdVideoFirstQuartile"),a.vpaidObj.unsubscribe(a.adVideoMidpointHandler,"AdVideoMidpoint"),a.vpaidObj.unsubscribe(a.adVideoThirdQuartileHandler,"AdVideoThirdQuartile"),a.vpaidObj.unsubscribe(a.adVideoCompleteHandler,"AdVideoComplete"),a.vpaidObj.unsubscribe(a.adClickThruHandler,"AdClickThru"),a.vpaidObj.unsubscribe(a.adPausedHandler,"AdPaused"),a.vpaidObj.unsubscribe(a.adPlayingHandler,"AdPlaying"),a.vpaidObj.unsubscribe(a.adErrorHandler,"AdError"),a.vpaidObj.unsubscribe(a.adUnavailableHandler,"AdUnavailable")},this.adLoadedHandler=function(){a.onAdEvent({}),a.startAd()},this.adStartedHandler=function(){a.onAdEvent({type:"AdStarted"})},this.adStoppedHandler=function(){a.stopCalled||(a.stopCalled=!0,a.onAdEvent({type:"VAdStopped"}),null!=a.vpaidObj&&(a.removeEvents(),a.vpaidObj=null))},this.adSkippedHandler=function(){a.mediaTracking("skip"),a.onAdEvent({type:"AdSkipped"}),a.vpaidObj.skipAd()},this.adSkippableStateChangeHandler=function(){a.onAdEvent({type:"AdSkippableStateChange"})},this.adSizeChangeHandler=function(){a.onAdEvent({type:"AdSizeChange"})},this.adLinearChangeHandler=function(){a.onAdEvent({type:"AdLinearChange"}),a.adLinear=a.vpaidObj.getAdLinear(),a.log("190 that.adLinear---------"+a.adLinear),a.adLinear&&(a.resizeAD(a._vwidth,a._vheight),a.divVars.videoSlot.style.cssText="",a.bufferInterval=setInterval(a.checkBuffering,a.checkInterval))},this.adDurationChangeHandler=function(){a.onAdEvent({type:"AdDurationChange"})},this.adExpandedChangeHandler=function(){a.onAdEvent({type:"AdExpandedChange"})},this.adRemainingTimeChangeHandler=function(){a.onAdEvent({type:"AdRemainingTimeChange"})},this.adVolumeChangeHandler=function(){a.onAdEvent({type:"AdVolumeChange"}),0==a.getAdVolume()?(a.mediaTracking("mute"),a.onAdEvent({type:"Admute"})):(a.mediaTracking("unmute"),a.onAdEvent({type:"Adunmute"}))},this.getAdVolume=function(){return a.vpaidObj.getAdVolume()},this.adInteractionHandler=function(){a.onAdEvent({type:"AdInteraction"})},this.adUserAcceptInvitationHandler=function(){a.onAdEvent({type:"AdUserAcceptInvitation"})},this.adUserMinimizeHandler=function(){a.onAdEvent({type:"AdUserMinimize"})},this.adUserCloseHandler=function(){a.mediaTracking("close"),a.onAdEvent({type:"AdUserClose"})},this.adImpressionHandler=function(){a.impFired||(a.impFired=!0,a.fireImpressionTrackers(a.adImpArray,"Impression"),a.onAdEvent({type:"AdImpression"}))},this.adVideoStartHandler=function(){a.onAdEvent({type:"AdVideoStart"})},this.adVideoFirstQuartileHandler=function(){a.onAdEvent({type:"AdVideoFirstQuartile"})},this.adVideoMidpointHandler=function(){a.onAdEvent({type:"AdVideoMidpoint"})},this.adVideoThirdQuartileHandler=function(){a.onAdEvent({type:"AdVideoThirdQuartile"})},this.adVideoCompleteHandler=function(){a.onAdEvent({type:"AdVideoCompleted"}),a.adStoppedHandler()},this.adClickThruHandler=function(){a.fireImpressionTrackers(a.adClickTracking,"AdClicked"),a.onAdEvent({type:"AdClicked"}),a.opeLpu(a.adClickThrough)},this.adPausedHandler=function(){a.mediaTracking("pause"),a.onAdEvent({type:"AdPaused"})},this.adPlayingHandler=function(){a.mediaTracking("resume"),a.onAdEvent({type:"AdResumed"})},this.adErrorHandler=function(){a.adError=!0,a.onAdEvent({type:"AdError"}),a.onAdEvent({type:"AdStopped"}),null!=a.vpaidObj&&(a.removeEvents(),a.vpaidObj.stopAd(),a.vpaidObj=null)},this.adUnavailableHandler=function(){a.onAdEvent({type:"AdUnavailable"})},this.resizeAD=function(e,t){a.vpaidObj.resizeAd(e,t,"normal")},this.log=function(e,a){},this.startAd=function(){a.adError||(a.impFired||(a.impFired=!0,a.fireImpressionTrackers(a.adImpArray,"Impression"),a.onAdEvent({type:"AdImpression"})),a.vpaidObj.startAd(),a.adLinear=a.vpaidObj.getAdLinear(),a.adLinear&&(a.bufferInterval=setInterval(a.checkBuffering,a.checkInterval)))},this.opeLpu=function(e){for(var a=0;a<e.length;a++){var t=e[a];""!=t&&" "!=t&&void 0!=t&&"''"!=t&&window.open(t,"_blank")}},this.fireImpressionTrackers=function(e,a){for(var t=0;t<e.length;t++){var r=e[t];if(""!=r&&" "!=r&&void 0!=r&&"''"!=r){var i=new Image;i.onload=function(){},i.src=r}}},this.mediaTracking=function(e){if(a.adTrackingEvents[e].length>0)for(var t=0;t<a.adTrackingEvents[e].length;t++){var r=new Image;r.src=a.adTrackingEvents[e][t]}},this.postMsg=function(e,a){var t={};try{window.parent.Vast2VDO.Error(e)}catch(r){t.type=a,t.message=e,window.parent.vdopia_player_wrapper.receiveMessage(t)}},this.checkBuffering=function(){a.currentPlayPos=a.divVars.videoSlot.currentTime;var e=1/a.checkInterval;!a.bufferingDetected&&a.currentPlayPos<a.lastPlayPos+e&&!a.divVars.videoSlot.paused&&(a.bufferingDetected=!0),a.bufferingDetected&&a.currentPlayPos>a.lastPlayPos+e&&!a.divVars.videoSlot.paused&&(a.bufferingDetected=!1),a.lastPlayPos=a.currentPlayPos},this.addClickthrough=function(e){var t=document.getElementById(e),r=document.getElementById("wrapper_"+e);if(a.isDeviceMobile)return!1;if(!document.getElementById("clickt_"+e)){var i=document.createElement("div");i.className="clickt",i.id="clickt_"+e,i.style.position="absolute",i.style.cursor="default",i.style.color="#fff",i.style.display="inline-block",i.style.fontFamily="arial,sans-serif",i.style.fontWeight="normal",i.style.lineHeight="normal",i.style["float"]="right",i.style.fontSize="16px",i.style.padding="5px",i.style.left=t.offsetWidth-94+"px",i.style.top=0,i.style.width="84px",i.style.height="25px",i.innerText="Learn More",r.appendChild(i)}var n=document.getElementById("clickt_"+e);n.onclick=function(){a.overlayOnClick()}},this.x=function(e){var a=document.getElementById("clickt_"+e);a&&a.parentNode.removeChild(a)},this.overlayOnClick=function(){try{a.vpaidObj.overlayOnClick_()}catch(e){}}}}